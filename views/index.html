<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°–∏—Å—Ç–µ–º–∞ –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–∞–ª–æ–Ω–æ–≤ –∫—Ä–∞—Å–æ—Ç—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
<header>
  <div class="nav-links" id="nav-links">
    <a href="/client-cabinet">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞</a>
    <a href="/login-client">–í—Ö–æ–¥ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤</a>
    <a href="/register-client">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞</a>
    <a href="/login" id="login-link">–í—Ö–æ–¥ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤</a>
  </div>
</header>

<div class="container">
  <div class="landing-hero" style="text-align: center; padding: 80px 20px;">
    <h1 class="landing-title" style="margin-bottom: 24px;">–°–∏—Å—Ç–µ–º–∞ –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–∞–ª–æ–Ω–æ–≤ –∫—Ä–∞—Å–æ—Ç—ã</h1>
    <p class="landing-subtitle" style="margin-bottom: 40px; max-width: 600px; margin-left: auto; margin-right: auto;">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–ø–∏—Å—è–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ —É—Å–ª—É–≥–∞–º–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.</p>
    <div class="landing-cta" style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
      <button type="button" class="btn-primary landing-cta-primary" id="open-register-modal">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      <button type="button" class="btn-secondary landing-cta-secondary" id="open-login-modal">–í—Ö–æ–¥</button>
    </div>
  </div>
</div>

<footer>
  ¬© 2025 Beauty Studio. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
</footer>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
<div id="register-modal" class="modal-overlay hidden">
  <div class="modal" style="max-width: 500px;">
    <div class="modal-header">
      <div class="modal-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
      <button type="button" class="modal-close" id="close-register-modal">√ó</button>
    </div>
    <div class="modal-body">
      <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
      <div id="register-type-selection">
        <p class="description" style="margin-bottom: 16px;">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞:</p>
        <div style="display: grid; gap: 12px;">
          <button type="button" class="btn-secondary register-type-btn" data-type="client" style="text-align: left; padding: 16px;">
            <div style="font-weight: 600; margin-bottom: 4px;">üë§ –ö–ª–∏–µ–Ω—Ç</div>
            <div style="font-size: 0.85rem; color: #6b7280;">–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π –∏ –∑–∞–ø–∏—Å—å –≤ —Å–∞–ª–æ–Ω—ã</div>
          </button>
          <button type="button" class="btn-secondary register-type-btn" data-type="master" style="text-align: left; padding: 16px;">
            <div style="font-weight: 600; margin-bottom: 4px;">‚úÇÔ∏è –ú–∞—Å—Ç–µ—Ä</div>
            <div style="font-size: 0.85rem; color: #6b7280;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º</div>
          </button>
          <button type="button" class="btn-secondary register-type-btn" data-type="salon" style="text-align: left; padding: 16px;">
            <div style="font-weight: 600; margin-bottom: 4px;">üè¢ –°–∞–ª–æ–Ω</div>
            <div style="font-size: 0.85rem; color: #6b7280;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏, –º–∞—Å—Ç–µ—Ä–∞–º–∏ –∏ –∑–∞–ø–∏—Å—è–º–∏</div>
          </button>
        </div>
      </div>

      <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ -->
      <div id="register-client-form" style="display: none;">
        <button type="button" class="btn-secondary" id="back-register-type" style="margin-bottom: 12px; padding: 8px 16px; font-size: 0.9rem;">‚Üê –ù–∞–∑–∞–¥</button>
        <h3 style="margin-bottom: 16px;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞</h3>
        <form id="register-client-form-submit">
          <div>
            <label for="reg-client-name">–ò–º—è *</label>
            <input type="text" id="reg-client-name" required placeholder="–í–∞—à–µ –∏–º—è" />
          </div>
          <div>
            <label for="reg-client-phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
            <input type="tel" id="reg-client-phone" required placeholder="+998XX XXX XX XX" />
          </div>
          <div>
            <label for="reg-client-email">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <input type="email" id="reg-client-email" placeholder="your@email.com" />
          </div>
          <div>
            <label for="reg-client-password">–ü–∞—Ä–æ–ª—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <input type="password" id="reg-client-password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" />
          </div>
          <button type="submit" class="btn-primary" style="width: 100%; margin-top: 8px;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
          <div id="register-client-error" class="alert alert-error" style="display: none; margin-top: 12px;"></div>
        </form>
      </div>

      <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–∞ -->
      <div id="register-master-form" style="display: none;">
        <button type="button" class="btn-secondary" id="back-register-type-master" style="margin-bottom: 12px; padding: 8px 16px; font-size: 0.9rem;">‚Üê –ù–∞–∑–∞–¥</button>
        <h3 style="margin-bottom: 16px;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞</h3>
        <p class="note" style="margin-bottom: 16px;">–í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–∞</p>
        <a href="/register/master" class="btn-primary" style="width: 100%; text-align: center; text-decoration: none; display: block;">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</a>
      </div>

      <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–∞–ª–æ–Ω–∞ -->
      <div id="register-salon-form" style="display: none;">
        <button type="button" class="btn-secondary" id="back-register-type-salon" style="margin-bottom: 12px; padding: 8px 16px; font-size: 0.9rem;">‚Üê –ù–∞–∑–∞–¥</button>
        <h3 style="margin-bottom: 16px;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–∞–ª–æ–Ω–∞</h3>
        <p class="note" style="margin-bottom: 16px;">–í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–∞–ª–æ–Ω–∞</p>
        <a href="/register" class="btn-primary" style="width: 100%; text-align: center; text-decoration: none; display: block;">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</a>
      </div>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
<div id="login-modal" class="modal-overlay hidden">
  <div class="modal" style="max-width: 500px;">
    <div class="modal-header">
      <div class="modal-title">–í—Ö–æ–¥</div>
      <button type="button" class="modal-close" id="close-login-modal">√ó</button>
    </div>
    <div class="modal-body">
      <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
      <div id="login-type-selection">
        <p class="description" style="margin-bottom: 16px;">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞:</p>
        <div style="display: grid; gap: 12px;">
          <button type="button" class="btn-secondary login-type-btn" data-type="client" style="text-align: left; padding: 16px;">
            <div style="font-weight: 600; margin-bottom: 4px;">üë§ –ö–ª–∏–µ–Ω—Ç</div>
            <div style="font-size: 0.85rem; color: #6b7280;">–í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</div>
          </button>
          <button type="button" class="btn-secondary login-type-btn" data-type="master" style="text-align: left; padding: 16px;">
            <div style="font-weight: 600; margin-bottom: 4px;">‚úÇÔ∏è –ú–∞—Å—Ç–µ—Ä</div>
            <div style="font-size: 0.85rem; color: #6b7280;">–í—Ö–æ–¥ –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤</div>
          </button>
          <button type="button" class="btn-secondary login-type-btn" data-type="salon" style="text-align: left; padding: 16px;">
            <div style="font-weight: 600; margin-bottom: 4px;">üè¢ –°–∞–ª–æ–Ω</div>
            <div style="font-size: 0.85rem; color: #6b7280;">–í—Ö–æ–¥ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–∞–ª–æ–Ω–æ–≤</div>
          </button>
        </div>
      </div>

      <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞ -->
      <div id="login-client-form" style="display: none;">
        <button type="button" class="btn-secondary" id="back-login-type" style="margin-bottom: 12px; padding: 8px 16px; font-size: 0.9rem;">‚Üê –ù–∞–∑–∞–¥</button>
        <h3 style="margin-bottom: 16px;">–í—Ö–æ–¥ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞</h3>
        <form id="login-client-form-submit">
          <div>
            <label for="login-client-phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
            <input type="tel" id="login-client-phone" required placeholder="+998XX XXX XX XX" />
          </div>
          <div>
            <label for="login-client-password">–ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)</label>
            <input type="password" id="login-client-password" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏" />
          </div>
          <button type="submit" class="btn-primary" style="width: 100%; margin-top: 8px;">–í–æ–π—Ç–∏</button>
          <div id="login-client-error" class="alert alert-error" style="display: none; margin-top: 12px;"></div>
        </form>
        <p class="note" style="margin-top: 12px; text-align: center;">
          –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="switch-to-register-client" style="color: #a855f7;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>
        </p>
      </div>

      <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –º–∞—Å—Ç–µ—Ä–∞/—Å–∞–ª–æ–Ω–∞ -->
      <div id="login-owner-form" style="display: none;">
        <button type="button" class="btn-secondary" id="back-login-type-owner" style="margin-bottom: 12px; padding: 8px 16px; font-size: 0.9rem;">‚Üê –ù–∞–∑–∞–¥</button>
        <h3 style="margin-bottom: 16px;" id="login-owner-title">–í—Ö–æ–¥</h3>
        <p class="note" style="margin-bottom: 16px;">–í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞</p>
        <a href="/login" id="login-owner-link" class="btn-primary" style="width: 100%; text-align: center; text-decoration: none; display: block;">–ü–µ—Ä–µ–π—Ç–∏ –∫ –≤—Ö–æ–¥—É</a>
      </div>
    </div>
  </div>
</div>

<script>
  // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  document.getElementById('open-register-modal')?.addEventListener('click', () => {
    document.getElementById('register-modal').classList.remove('hidden');
    resetRegisterModal();
  });

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  document.getElementById('close-register-modal')?.addEventListener('click', () => {
    document.getElementById('register-modal').classList.add('hidden');
  });

  // –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  document.getElementById('register-modal')?.addEventListener('click', (e) => {
    if (e.target.id === 'register-modal') {
      document.getElementById('register-modal').classList.add('hidden');
    }
  });

  // –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  document.querySelectorAll('.register-type-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const type = btn.dataset.type;
      document.getElementById('register-type-selection').style.display = 'none';
      
      if (type === 'client') {
        document.getElementById('register-client-form').style.display = 'block';
      } else if (type === 'master') {
        document.getElementById('register-master-form').style.display = 'block';
      } else if (type === 'salon') {
        document.getElementById('register-salon-form').style.display = 'block';
      }
    });
  });

  // –°–±—Ä–æ—Å –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  function resetRegisterModal() {
    document.getElementById('register-type-selection').style.display = 'block';
    document.getElementById('register-client-form').style.display = 'none';
    document.getElementById('register-master-form').style.display = 'none';
    document.getElementById('register-salon-form').style.display = 'none';
    document.getElementById('register-client-error').style.display = 'none';
    document.getElementById('register-client-form-submit').reset();
  }

  // –ö–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  document.getElementById('back-register-type')?.addEventListener('click', () => {
    resetRegisterModal();
  });
  document.getElementById('back-register-type-master')?.addEventListener('click', () => {
    resetRegisterModal();
  });
  document.getElementById('back-register-type-salon')?.addEventListener('click', () => {
    resetRegisterModal();
  });

  // –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
  document.getElementById('register-client-form-submit')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const errorDiv = document.getElementById('register-client-error');
    errorDiv.style.display = 'none';

    const data = {
      name: document.getElementById('reg-client-name').value.trim(),
      phone: document.getElementById('reg-client-phone').value.trim(),
      email: document.getElementById('reg-client-email').value.trim(),
      password: document.getElementById('reg-client-password').value
    };

    if (!data.name || data.name.length < 2) {
      errorDiv.textContent = '–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞';
      errorDiv.style.display = 'block';
      return;
    }

    const phoneDigits = data.phone.replace(/\D/g, '');
    if (phoneDigits.length < 9) {
      errorDiv.textContent = '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';
      errorDiv.style.display = 'block';
      return;
    }

    if (data.password && data.password.length < 6) {
      errorDiv.textContent = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤';
      errorDiv.style.display = 'block';
      return;
    }

    try {
      const response = await fetch('/api/register-client', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      if (result.success) {
        window.location.href = '/client-cabinet';
      } else {
        errorDiv.textContent = result.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';
        errorDiv.style.display = 'block';
      }
    } catch (error) {
      errorDiv.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
      errorDiv.style.display = 'block';
    }
  });

  // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—Ö–æ–¥–∞
  document.getElementById('open-login-modal')?.addEventListener('click', () => {
    document.getElementById('login-modal').classList.remove('hidden');
    resetLoginModal();
  });

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—Ö–æ–¥–∞
  document.getElementById('close-login-modal')?.addEventListener('click', () => {
    document.getElementById('login-modal').classList.add('hidden');
  });

  // –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—Ö–æ–¥–∞
  document.getElementById('login-modal')?.addEventListener('click', (e) => {
    if (e.target.id === 'login-modal') {
      document.getElementById('login-modal').classList.add('hidden');
    }
  });

  // –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—Ö–æ–¥–∞
  document.querySelectorAll('.login-type-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const type = btn.dataset.type;
      document.getElementById('login-type-selection').style.display = 'none';
      
      if (type === 'client') {
        document.getElementById('login-client-form').style.display = 'block';
      } else {
        document.getElementById('login-owner-form').style.display = 'block';
        const title = document.getElementById('login-owner-title');
        const link = document.getElementById('login-owner-link');
        if (type === 'master') {
          title.textContent = '–í—Ö–æ–¥ –¥–ª—è –º–∞—Å—Ç–µ—Ä–∞';
          link.href = '/login';
        } else if (type === 'salon') {
          title.textContent = '–í—Ö–æ–¥ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–∞–ª–æ–Ω–∞';
          link.href = '/login';
        }
      }
    });
  });

  // –°–±—Ä–æ—Å –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—Ö–æ–¥–∞
  function resetLoginModal() {
    document.getElementById('login-type-selection').style.display = 'block';
    document.getElementById('login-client-form').style.display = 'none';
    document.getElementById('login-owner-form').style.display = 'none';
    document.getElementById('login-client-error').style.display = 'none';
    document.getElementById('login-client-form-submit').reset();
  }

  // –ö–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –¥–ª—è –≤—Ö–æ–¥–∞
  document.getElementById('back-login-type')?.addEventListener('click', () => {
    resetLoginModal();
  });
  document.getElementById('back-login-type-owner')?.addEventListener('click', () => {
    resetLoginModal();
  });

  // –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞
  document.getElementById('login-client-form-submit')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const errorDiv = document.getElementById('login-client-error');
    errorDiv.style.display = 'none';

    const data = {
      phone: document.getElementById('login-client-phone').value.trim(),
      password: document.getElementById('login-client-password').value
    };

    const phoneDigits = data.phone.replace(/\D/g, '');
    if (phoneDigits.length < 9) {
      errorDiv.textContent = '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';
      errorDiv.style.display = 'block';
      return;
    }

    try {
      const response = await fetch('/api/login-client', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      if (result.success) {
        window.location.href = '/client-cabinet';
      } else {
        errorDiv.textContent = result.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';
        errorDiv.style.display = 'block';
      }
    } catch (error) {
      errorDiv.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
      errorDiv.style.display = 'block';
    }
  });

  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å –≤—Ö–æ–¥–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞
  document.getElementById('switch-to-register-client')?.addEventListener('click', (e) => {
    e.preventDefault();
    document.getElementById('login-modal').classList.add('hidden');
    document.getElementById('register-modal').classList.remove('hidden');
    resetRegisterModal();
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –∫–ª–∏–µ–Ω—Ç–∞
    setTimeout(() => {
      document.querySelector('.register-type-btn[data-type="client"]').click();
    }, 100);
  });
</script>

<script src="/app.js"></script>
</body>
</html>
