# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã - –°—Ç–∞—Ç—É—Å

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (4172+ —Å—Ç—Ä–æ–∫ –≤ server.js)
2. **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã 7 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ + API Gateway
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π** - –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
4. **–û–±—â–∏–µ –º–æ–¥—É–ª–∏** - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã database.js, utils.js, cache.js –≤ shared/
5. **Auth Service** - –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –≤—ã—Ö–æ–¥)
6. **Docker Compose** - –°–æ–∑–¥–∞–Ω docker-compose.microservices.yml –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
7. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

```
services/
‚îú‚îÄ‚îÄ auth-service/        ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞
‚îú‚îÄ‚îÄ user-service/        ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ booking-service/     ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ catalog-service/     ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ file-service/        ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ notification-service/ ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ telegram-service/    ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ

gateway/                 ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
shared/                  ‚úÖ –ú–æ–¥—É–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **MICROSERVICES_ARCHITECTURE.md** - –û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ endpoints
- **MICROSERVICES_IMPLEMENTATION.md** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **REFACTORING_SUMMARY.md** - –†–µ–∑—é–º–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## üîÑ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:

1. **User Service** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–∫—Ä–∏—Ç–∏—á–Ω–æ)
2. **Booking Service** - –ó–∞–ø–∏—Å–∏ (–∫—Ä–∏—Ç–∏—á–Ω–æ)
3. **Catalog Service** - –£—Å–ª—É–≥–∏ –∏ –º–∞—Å—Ç–µ—Ä–∞
4. **Notification Service** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
5. **File Service** - –§–∞–π–ª—ã (MinIO)
6. **Telegram Service** - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
7. **API Gateway** - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.microservices.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.microservices.yml ps
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—É—Ç–∏ –∫ shared –º–æ–¥—É–ª—è–º** - –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ (—Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏)
2. **–°–µ—Å—Å–∏–∏** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è production
3. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏** - –ß–µ—Ä–µ–∑ HTTP REST API
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â—É—é PostgreSQL –ë–î
5. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ë–î

## üìù –ü—Ä–∏–º–µ—Ä—ã endpoints

–í—Å–µ endpoints –æ–ø–∏—Å–∞–Ω—ã –≤ MICROSERVICES_ARCHITECTURE.md. –û—Å–Ω–æ–≤–Ω—ã–µ:

- **Auth Service**: `/api/register`, `/api/login`, `/api/logout`
- **User Service**: `/api/user`, `/api/salon`, `/api/users`
- **Booking Service**: `/api/bookings`, `/api/bookings/check-availability`
- **Catalog Service**: `/api/services`, `/api/masters`
- **File Service**: `/api/masters/:masterId/photos`
- **Notification Service**: `/api/notifications`
- **Telegram Service**: `/api/telegram/webhook`, `/api/telegram/settings`

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Runtime**: Node.js 18+
- **Framework**: Express.js
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 15
- **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: MinIO
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker & Docker Compose

